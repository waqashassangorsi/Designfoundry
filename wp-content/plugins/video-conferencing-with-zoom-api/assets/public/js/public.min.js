"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}jQuery(function(c){({init:function(){this.cacheVariables(),this.countDownTimerMoment(),this.evntLoaders()},cacheVariables:function(){this.$timer=c("#dpn-zvc-timer"),this.changeMeetingState=c(".vczapi-meeting-state-change")},evntLoaders:function(){c(window).on("load",this.setTimezone.bind(this)),c(this.changeMeetingState).on("click",this.meetingStateChange.bind(this))},countDownTimerMoment:function(){var t,e,a,n,o,i,d,r,s,m=this.$timer;0<m.length&&(a=m.data("date"),i=m.data("tz"),t=m.data("state"),"Asia/Katmandu"===(o=moment.tz.guess())&&(o="Asia/Kathmandu"),n=moment.tz(a,i).format(),e=moment.tz(n,o).format("MMM D, YYYY HH:mm:ss"),a=moment.tz(n,o).format(),i=moment().unix(),n=moment(a).unix()-i,o=document.documentElement.lang,i=""!==zvc_strings.date_format?zvc_strings.date_format:"LLLL",c(".sidebar-start-time").html(moment.parseZone(a).locale(o).format(i)),d=36e5,"ended"===t?c(m).html("<div class='dpn-zvc-meeting-ended'><h3>"+zvc_strings.meeting_ended+"</h3></div>"):0<n?(r=new Date(e).getTime(),s=setInterval(function(){var t=(new Date).getTime(),t=r-t;document.getElementById("dpn-zvc-timer-days").innerText=Math.floor(t/864e5),document.getElementById("dpn-zvc-timer-hours").innerText=Math.floor(t%864e5/d),document.getElementById("dpn-zvc-timer-minutes").innerText=Math.floor(t%d/6e4),document.getElementById("dpn-zvc-timer-seconds").innerText=Math.floor(t%6e4/1e3),t<0&&(clearInterval(s),c(m).html("<div class='dpn-zvc-meeting-ended'><h3>"+zvc_strings.meeting_starting+"</h3></div>"))},1e3)):c(m).remove())},setTimezone:function(){var t,e=moment.tz.guess();"Asia/Katmandu"===e&&(e="Asia/Kathmandu");try{void 0!==("undefined"==typeof mtg_data?"undefined":_typeof(mtg_data))&&"single-meeting"===mtg_data.page&&(c(".dpn-zvc-sidebar-content").after('<div class="dpn-zvc-sidebar-box remove-sidebar-loder-text"><p>Loading..Please wait..</p></div>'),t={action:"set_timezone",user_timezone:e,post_id:mtg_data.post_id,mtg_timezone:mtg_data.timezone,start_date:mtg_data.start_date,type:"page"},c.post(mtg_data.ajaxurl,t).done(function(t){t.success?c(".dpn-zvc-sidebar-content").after(t.data):c(".dpn-zvc-sidebar-content").after('<div class="dpn-zvc-sidebar-box vczapi-no-longer-valid">'+t.data+"</div>"),c(".remove-sidebar-loder-text").remove()})),void 0!==("undefined"==typeof mtg_data?"undefined":_typeof(mtg_data))&&"shortcode"===mtg_data.type&&(t={action:"set_timezone",user_timezone:e,mtg_timezone:mtg_data.timezone,join_uri:mtg_data.join_uri,browser_url:mtg_data.browser_url,start_date:mtg_data.start_date,type:"shortcode"},c(".zvc-table-shortcode-duration").after('<tr class="remove-shortcode-loder-text"><td colspan="2">Loading.. Please wait..</td></tr>'),c.post(mtg_data.ajaxurl,t).done(function(t){t.success?c(".zvc-table-shortcode-duration").after(t.data):c(".zvc-table-shortcode-duration").after('<tr><td colspan="2">'+t.data+"</td></tr>"),c(".remove-shortcode-loder-text").remove()}))}catch(t){}},meetingStateChange:function(t){t.preventDefault();var e=c(t.currentTarget).data("state"),a=c(t.currentTarget).data("postid"),a={id:c(t.currentTarget).data("id"),state:e,type:c(t.currentTarget).data("type"),post_id:a||!1,action:"state_change",accss:vczapi_state.zvc_security};("resume"===e||"end"===e&&confirm(vczapi_state.lang.confirm_end))&&this.changeState(a)},changeState:function(t){c.post(vczapi_state.ajaxurl,t).done(function(t){location.reload()})}}).init()});